//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: build/src/main/java/com/adiron/busme/platform/JourneyBasketSync.java
//
//  Created by polar on 5/25/13.
//

#import "IOSClass.h"
#import "com/adiron/busme/api/NameId.h"
#import "com/adiron/busme/platform/ActivityAPI.h"
#import "com/adiron/busme/platform/JourneyBasket.h"
#import "com/adiron/busme/platform/JourneyBasketSync.h"
#import "com/adiron/busme/platform/Log.h"
#import "com/adiron/busme/platform/ProgressLogger.h"
#import "com/adiron/busme/platform/RequestUpdater.h"
#import "java/io/IOException.h"
#import "java/util/Date.h"
#import "java/util/List.h"

@implementation ComAdironBusmePlatformJourneyBasketSync

static NSString * ComAdironBusmePlatformJourneyBasketSync_LOGTAG_;

- (ComAdironBusmePlatformJourneyBasket *)journeyBasket {
  return journeyBasket_;
}
- (void)setJourneyBasket:(ComAdironBusmePlatformJourneyBasket *)journeyBasket {
  JreOperatorRetainedAssign(&journeyBasket_, journeyBasket);
}
@synthesize journeyBasket = journeyBasket_;
- (id<ComAdironBusmePlatformProgressLogger>)progressLogger {
  return progressLogger_;
}
- (void)setProgressLogger:(id<ComAdironBusmePlatformProgressLogger>)progressLogger {
  JreOperatorRetainedAssign(&progressLogger_, progressLogger);
}
@synthesize progressLogger = progressLogger_;
- (NSString *)masterName {
  return masterName_;
}
- (void)setMasterName:(NSString *)masterName {
  JreOperatorRetainedAssign(&masterName_, masterName);
}
@synthesize masterName = masterName_;
- (ComAdironBusmePlatformActivityAPI *)activityAPI {
  return activityAPI_;
}
- (void)setActivityAPI:(ComAdironBusmePlatformActivityAPI *)activityAPI {
  JreOperatorRetainedAssign(&activityAPI_, activityAPI);
}
@synthesize activityAPI = activityAPI_;
@synthesize firstRun = firstRun_;
@synthesize hasBeenShown = hasBeenShown_;

+ (NSString *)LOGTAG {
  return ComAdironBusmePlatformJourneyBasketSync_LOGTAG_;
}

- (id)initWithComAdironBusmePlatformActivityAPI:(ComAdironBusmePlatformActivityAPI *)api {
  if ((self = [super init])) {
    firstRun_ = YES;
    hasBeenShown_ = NO;
    self.activityAPI = api;
  }
  return self;
}

- (void)onJourneysSyncResponseWithJavaUtilList:(id<JavaUtilList>)nameids {
  ComAdironBusmePlatformJourneyBasket *basket = [self getJourneyBasket];
  if (basket != nil) {
    id<ComAdironBusmePlatformProgressLogger> lis = [self getProgressLogger];
    if (lis != nil) {
      [lis onSyncEndWithInt:[((id<JavaUtilList>) NIL_CHK(nameids)) size]];
    }
    [basket syncWithJavaUtilList:nameids withComAdironBusmePlatformJourneyBasket_ProgressListener:lis withComAdironBusmePlatformJourneyBasket_OnIOErrorListener:lis];
    firstRun_ = NO;
  }
  else {
    id<ComAdironBusmePlatformJourneyBasket_ProgressListener> lis = [self getProgressLogger];
    if (lis != nil) {
      [lis onSyncEndWithInt:0];
    }
  }
}

- (void)onUpdateStartWithJavaUtilDate:(JavaUtilDate *)time
                             withBOOL:(BOOL)forced {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onUpdateStart()"];
  id<ComAdironBusmePlatformProgressLogger> lis = [self getProgressLogger];
  if (lis != nil) {
    [lis onBeginWithBOOL:forced withNSString:[self getMasterName]];
  }
}

- (void)onArgumentsStart {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onArgumentsStart()"];
}

- (void)onArgumentsFinishWithBOOL:(BOOL)makeRequest {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onArgumentsFinish()"];
}

- (void)onRequestStartWithJavaUtilDate:(JavaUtilDate *)time {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onRequestStart()"];
  id<ComAdironBusmePlatformProgressLogger> lis = [self getProgressLogger];
  if (lis != nil) {
    [lis onSyncStart];
  }
}

- (void)onRequestIOErrorWithJavaIoIOException:(JavaIoIOException *)e {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onRequestIOError()"];
  id<ComAdironBusmePlatformProgressLogger> progressListener = [self getProgressLogger];
  if (progressListener != nil) {
    [progressListener onIOErrorWithComAdironBusmePlatformJourneyBasket:[self getJourneyBasket] withJavaIoIOException:e];
    [progressListener onSyncEndWithInt:0];
  }
}

- (void)onRequestFinishWithJavaUtilDate:(JavaUtilDate *)time {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onRequestFinish()"];
}

- (void)onResponseStart {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onResponseStart()"];
}

- (void)onResponseFinish {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onResponseFinish()"];
}

- (void)onUpdateFinishWithBOOL:(BOOL)madeRequest
              withJavaUtilDate:(JavaUtilDate *)time {
  [ComAdironBusmePlatformLog eWithNSString:ComAdironBusmePlatformJourneyBasketSync_LOGTAG_ withNSString:@"onUpdateFinish()"];
  id<ComAdironBusmePlatformProgressLogger> lis = [self getProgressLogger];
  if (lis != nil) {
    [lis onDone];
  }
}

- (ComAdironBusmePlatformJourneyBasket *)getJourneyBasket {
  return journeyBasket_;
}

- (void)setJourneyBasketWithComAdironBusmePlatformJourneyBasket:(ComAdironBusmePlatformJourneyBasket *)journeyBasket {
  self.journeyBasket = journeyBasket;
}

- (id<ComAdironBusmePlatformProgressLogger>)getProgressLogger {
  return progressLogger_;
}

- (void)setProgressListenerWithComAdironBusmePlatformProgressLogger:(id<ComAdironBusmePlatformProgressLogger>)logger {
  self.progressLogger = logger;
}

- (NSString *)getMasterName {
  return masterName_;
}

- (void)setMasterNameWithNSString:(NSString *)masterName {
  self.masterName = masterName;
}

+ (void)initialize {
  if (self == [ComAdironBusmePlatformJourneyBasketSync class]) {
    JreOperatorRetainedAssign(&ComAdironBusmePlatformJourneyBasketSync_LOGTAG_, [[IOSClass classWithClass:[ComAdironBusmePlatformJourneyBasketSync class]] getName]);
  }
}

- (void)dealloc {
  JreOperatorRetainedAssign(&activityAPI_, nil);
  JreOperatorRetainedAssign(&masterName_, nil);
  JreOperatorRetainedAssign(&progressLogger_, nil);
  JreOperatorRetainedAssign(&journeyBasket_, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  ComAdironBusmePlatformJourneyBasketSync *typedCopy = (ComAdironBusmePlatformJourneyBasketSync *) copy;
  typedCopy.journeyBasket = journeyBasket_;
  typedCopy.progressLogger = progressLogger_;
  typedCopy.masterName = masterName_;
  typedCopy.activityAPI = activityAPI_;
  typedCopy.firstRun = firstRun_;
  typedCopy.hasBeenShown = hasBeenShown_;
}

@end
